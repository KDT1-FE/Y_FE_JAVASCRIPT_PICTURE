<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"
    />
    <title>야놀자 (Yanolja)</title>
    <link rel="stylesheet" type="text/css" href="../css/reset.css" />
    <link rel="stylesheet" type="text/css" href="../css/ui.css" />
    <link rel="stylesheet" type="text/css" href="../css/main.css" />
    <link rel="shortcut icon" href="../images/favicon/favicon.ico" />
    <script src="../js/jquery.min.js"></script>
    <script src="../js/yanolja.min.js"></script>
  </head>
  <body>
    <div id="wrap">
      <header class="header cfixed">
        <h1 class="logo"><a href="../index.html">야놀자 (Yanolja)</a></h1>
        <nav>
          <ul class="nav">
            <li><a href="../index.html">홈으로</a></li>
            <li><a href="https://yanolja.in/">회사정보</a></li>
            <li><a href="../main/photo.html">직원관리</a></li>
            <li><a href="../main/calendar.html">회사캘린더</a></li>
            <li><a href="../main/location.html">회사위치</a></li>
          </ul>
        </nav>
        <span class="menu-toggle-btn">
          <span></span>
          <span></span>
          <span></span>
        </span>
      </header>

      <section class="add_form">
        <div class="add_menu">
          <label
            ><input type="file" />
            <div class="image_container">
              <img src="../images/div-img/noimg.png" alt="사진추가" /></div
          ></label>
          <div class="add_bottom">
            <label><span>이름</span><input type="text" /></label>
            <label><span>이메일</span><input type="text" /></label>
            <label><span>휴대폰 번호</span><input type="text" /></label>
            <label><span>직급</span><input type="text" /></label>
            <button type="submit">직원생성하기</button>
          </div>
        </div>
      </section>

      <section class="content"></section>
      <footer class="footer">
        <p class="copyright">Yanolja</p>
      </footer>
    </div>
    <script src="./js/slide.js"></script>
    <script src="../js/modal.js"></script>
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyBJMxxMV0HnBEBpzFAVLqmn31_00s1sDOQ",
        authDomain: "picture-f7221.firebaseapp.com",
        projectId: "picture-f7221",
        storageBucket: "picture-f7221.appspot.com",
        messagingSenderId: "694065976023",
        appId: "1:694065976023:web:cc0d5b6604ed934d745692",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
    </script>
    <script>
      // Firebase Database 참조 생성
      const database = getDatabase(app);
      // 직원생성하기 버튼 클릭 시
      document
        .querySelector("button[type='submit']")
        .addEventListener("click", function () {
          var name = document.querySelector("input[name='name']").value;
          var email = document.querySelector("input[name='email']").value;
          var phone = document.querySelector("input[name='phone']").value;
          var position = document.querySelector("input[name='position']").value;

          // 데이터 추가
          var newDataKey = database.ref("employees").push().key;
          var newData = {
            name: name,
            email: email,
            phone: phone,
            position: position,
          };

          // 데이터베이스에 데이터 추가
          database
            .ref("employees/" + newDataKey)
            .set(newData)
            .then(function () {
              alert("직원이 추가되었습니다.");
              // 페이지 새로고침 또는 필요한 작업 수행
            })
            .catch(function (error) {
              console.error("데이터 추가 실패: ", error);
            });
        });
    </script>
    <script src="../js/personAdd.js"></script>
    <script src="../js/personFix.js"></script>
    <script src="../js/personDel.js"></script>
  </body>
</html>
