{"mappings":"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","sources":["<anon>","src/js/upload.js","src/js/firebase.js"],"sourcesContent":["const $953205d9211b0804$var$firebaseConfig = {\n    apiKey: \"AIzaSyDBWZgf69JelbmqlPPPzj56W5yFL-Q5wZo\",\n    authDomain: \"project-1-8debf.firebaseapp.com\",\n    projectId: \"project-1-8debf\",\n    storageBucket: \"project-1-8debf.appspot.com\",\n    messagingSenderId: \"386056815137\",\n    appId: \"1:386056815137:web:92425cb061808073ed9960\"\n};\nfirebase.initializeApp($953205d9211b0804$var$firebaseConfig);\nconst $953205d9211b0804$export$f932f06c7eb6abeb = firebase.firestore();\nconst $953205d9211b0804$export$ddcffe0146c8f882 = firebase.storage();\n\n\nlet $e4517613231d656d$var$docId = \"\";\nlet $e4517613231d656d$var$imageUrl = \"\";\nconst $e4517613231d656d$var$docRef = (0, $953205d9211b0804$export$f932f06c7eb6abeb).collection(\"profile\");\nconst $e4517613231d656d$var$btnSubmitEl = document.querySelector(\".btn-submit\");\nconst $e4517613231d656d$var$formEl = document.querySelector(\"form\");\nconst $e4517613231d656d$var$btnCancelEl = document.querySelector(\".btn-cancel\");\nconst $e4517613231d656d$var$inputFileEl = document.querySelector(\".input-file\");\nconst $e4517613231d656d$var$inputRankEl = document.querySelector(\".input-rank\");\nconst $e4517613231d656d$var$inputNameEl = document.querySelector(\".input-name\");\nconst $e4517613231d656d$var$inputEmailEl = document.querySelector(\".input-email\");\nconst $e4517613231d656d$var$inputSelfEl = document.querySelector(\".input-self\");\nconst $e4517613231d656d$var$btnModifyEl = document.querySelector(\".btn-modify\");\nconst $e4517613231d656d$var$btnDeleteEl = document.querySelector(\".btn-delete\");\nconst $e4517613231d656d$var$imgEl = document.querySelector(\".image\");\nconst [$e4517613231d656d$var$hash, $e4517613231d656d$var$queryString] = location.search.split(\"=\");\n$e4517613231d656d$var$btnSubmitEl.addEventListener(\"click\", $e4517613231d656d$var$uploadData);\n$e4517613231d656d$var$inputFileEl.addEventListener(\"change\", $e4517613231d656d$var$showPreviewImg);\n$e4517613231d656d$var$btnCancelEl.addEventListener(\"click\", $e4517613231d656d$var$moveToMainPage);\n$e4517613231d656d$var$btnModifyEl.addEventListener(\"click\", $e4517613231d656d$var$removeAttribute);\ndocument.addEventListener(\"DOMContentLoaded\", async ()=>{\n    try {\n        $e4517613231d656d$var$getDataFromFirestore();\n    } catch (error) {\n        console.error(\"문서를 가져오는 도중 오류가 발생했습니다\", error);\n    }\n});\nwindow.addEventListener(\"keydown\", (e)=>{\n    if (e.key === \"Enter\") $e4517613231d656d$var$uploadData();\n});\n$e4517613231d656d$var$formEl.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n});\n$e4517613231d656d$var$inputFileEl.addEventListener(\"click\", ()=>{\n    return $e4517613231d656d$var$imageUrl = $e4517613231d656d$var$imgEl.src;\n});\n$e4517613231d656d$var$btnDeleteEl.addEventListener(\"click\", ()=>{\n    $e4517613231d656d$var$deleteProfileWithImage($e4517613231d656d$var$imgEl.src);\n});\nif ($e4517613231d656d$var$queryString) {\n    $e4517613231d656d$var$setAttribute();\n    $e4517613231d656d$var$showUtilBtns();\n    $e4517613231d656d$var$docRef.get().then((res)=>{\n        res.forEach((doc)=>{\n            if (doc.data().id === Number($e4517613231d656d$var$queryString)) return $e4517613231d656d$var$docId = doc.id;\n        });\n    }).catch((error)=>{\n        console.error(\"문서 불러오기 중 오류:\", error);\n    });\n} else $e4517613231d656d$var$hideUtilBtns();\nfunction $e4517613231d656d$var$showUtilBtns() {\n    $e4517613231d656d$var$btnModifyEl.style.display = \"block\";\n    $e4517613231d656d$var$btnDeleteEl.style.display = \"block\";\n}\nfunction $e4517613231d656d$var$hideUtilBtns() {\n    $e4517613231d656d$var$btnModifyEl.style.display = \"none\";\n    $e4517613231d656d$var$btnDeleteEl.style.display = \"none\";\n}\nfunction $e4517613231d656d$var$uploadData() {\n    const file = $e4517613231d656d$var$inputFileEl.files[0];\n    const storageRef = (0, $953205d9211b0804$export$ddcffe0146c8f882).ref();\n    const savePath = storageRef.child(\"image/\" + new Date().getTime());\n    const upload = savePath.put(file);\n    // 사진이 변경되지 않았을 때\n    if ($e4517613231d656d$var$queryString && !$e4517613231d656d$var$inputFileEl.value) {\n        const item = {\n            rank: $e4517613231d656d$var$inputRankEl.value,\n            name: $e4517613231d656d$var$inputNameEl.value,\n            email: $e4517613231d656d$var$inputEmailEl.value,\n            self: $e4517613231d656d$var$inputSelfEl.value\n        };\n        $e4517613231d656d$var$updateProfile(item);\n    }\n    // 사진이 변경 되었을 때\n    if ($e4517613231d656d$var$queryString && $e4517613231d656d$var$inputFileEl.value) upload.on(\"state_changed\", null, (error)=>{\n        console.error(\"실패 사유는\", error);\n    }, ()=>{\n        upload.snapshot.ref.getDownloadURL().then((url)=>{\n            const item = {\n                rank: $e4517613231d656d$var$inputRankEl.value,\n                name: $e4517613231d656d$var$inputNameEl.value,\n                photo: url,\n                email: $e4517613231d656d$var$inputEmailEl.value,\n                self: $e4517613231d656d$var$inputSelfEl.value\n            };\n            $e4517613231d656d$var$updateProfile(item, $e4517613231d656d$var$deleteImageFromStorage($e4517613231d656d$var$imageUrl));\n        });\n    });\n    else // 새 프로필 등록\n    upload.on(\"state_changed\", null, (error)=>{\n        console.error(\"실패 사유는\", error);\n    }, ()=>{\n        upload.snapshot.ref.getDownloadURL().then((url)=>{\n            const item = {\n                id: new Date().getTime(),\n                rank: $e4517613231d656d$var$inputRankEl.value,\n                name: $e4517613231d656d$var$inputNameEl.value,\n                photo: url,\n                email: $e4517613231d656d$var$inputEmailEl.value,\n                self: $e4517613231d656d$var$inputSelfEl.value\n            };\n            $e4517613231d656d$var$submitProfileToFirestore(item);\n        });\n    });\n}\nfunction $e4517613231d656d$var$showPreviewImg(e) {\n    const file = e.target.files[0];\n    if (file) {\n        const reader = new FileReader();\n        reader.onload = (e)=>{\n            $e4517613231d656d$var$imgEl.setAttribute(\"src\", e.target.result);\n        };\n        reader.readAsDataURL(file);\n    }\n}\nfunction $e4517613231d656d$var$deleteImageFromStorage(imageUrl) {\n    const imageRef = (0, $953205d9211b0804$export$ddcffe0146c8f882).refFromURL(imageUrl);\n    return imageRef.delete();\n}\nfunction $e4517613231d656d$var$moveToMainPage() {\n    window.location.href = \"./index.html\";\n}\nfunction $e4517613231d656d$var$removeAttribute() {\n    $e4517613231d656d$var$inputFileEl.removeAttribute(\"disabled\");\n    $e4517613231d656d$var$inputRankEl.removeAttribute(\"disabled\");\n    $e4517613231d656d$var$inputNameEl.removeAttribute(\"disabled\");\n    $e4517613231d656d$var$inputEmailEl.removeAttribute(\"disabled\");\n    $e4517613231d656d$var$inputSelfEl.removeAttribute(\"disabled\");\n}\nfunction $e4517613231d656d$var$setAttribute() {\n    $e4517613231d656d$var$inputFileEl.setAttribute(\"disabled\", \"\");\n    $e4517613231d656d$var$inputRankEl.setAttribute(\"disabled\", \"\");\n    $e4517613231d656d$var$inputNameEl.setAttribute(\"disabled\", \"\");\n    $e4517613231d656d$var$inputEmailEl.setAttribute(\"disabled\", \"\");\n    $e4517613231d656d$var$inputSelfEl.setAttribute(\"disabled\", \"\");\n}\nfunction $e4517613231d656d$var$getDataFromFirestore() {\n    $e4517613231d656d$var$docRef.get().then((res)=>{\n        res.forEach((doc)=>{\n            if (doc.data().id === Number($e4517613231d656d$var$queryString)) {\n                $e4517613231d656d$var$imgEl.setAttribute(\"src\", `${doc.data().photo}`);\n                $e4517613231d656d$var$inputFileEl.value = \"\";\n                $e4517613231d656d$var$inputRankEl.value = doc.data().rank;\n                $e4517613231d656d$var$inputNameEl.value = doc.data().name;\n                $e4517613231d656d$var$inputEmailEl.value = doc.data().email;\n                $e4517613231d656d$var$inputSelfEl.value = doc.data().self;\n            }\n        });\n    });\n}\nfunction $e4517613231d656d$var$updateProfile(item, deleteImage) {\n    $e4517613231d656d$var$btnSubmitEl.disabled = \"true\";\n    const documentRef = $e4517613231d656d$var$docRef.doc($e4517613231d656d$var$docId);\n    documentRef.update(item).then(()=>{\n        alert(\"프로필이 변경되었습니다!\");\n        $e4517613231d656d$var$moveToMainPage();\n        deleteImage;\n        $e4517613231d656d$var$btnSubmitEl.disabled = \"false\";\n    }).catch((error)=>{\n        console.error(\"Error updating document: \", error);\n    });\n}\nfunction $e4517613231d656d$var$submitProfileToFirestore(item) {\n    $e4517613231d656d$var$docRef.add(item).then(()=>{\n        alert(\"프로필 등록이 완료되었습니다!\");\n        $e4517613231d656d$var$moveToMainPage();\n        $e4517613231d656d$var$btnSubmitEl.disabled = \"false\";\n    }).catch((error)=>{\n        console.log(error);\n    });\n}\nasync function $e4517613231d656d$var$deleteProfileWithImage(imgUrl) {\n    try {\n        await $e4517613231d656d$var$deleteImageFromStorage(imgUrl);\n        const getData = await $e4517613231d656d$var$docRef.get();\n        const foundDoc = getData.docs.find((doc)=>doc.data().id === Number($e4517613231d656d$var$queryString));\n        if (foundDoc) {\n            await foundDoc.ref.delete();\n            alert(\"프로필 삭제가 완료되었습니다\");\n            $e4517613231d656d$var$moveToMainPage();\n        } else console.error(\"문서를 찾을 수 없습니다\");\n    } catch (error) {\n        console.error(error);\n    }\n}\n\n\n//# sourceMappingURL=upload.1edac15e.js.map\n","import { db, storage } from './firebase';\r\n\r\nlet docId = '';\r\nlet imageUrl = '';\r\nconst docRef = db.collection('profile');\r\nconst btnSubmitEl = document.querySelector('.btn-submit');\r\nconst formEl = document.querySelector('form');\r\nconst btnCancelEl = document.querySelector('.btn-cancel');\r\nconst inputFileEl = document.querySelector('.input-file');\r\nconst inputRankEl = document.querySelector('.input-rank');\r\nconst inputNameEl = document.querySelector('.input-name');\r\nconst inputEmailEl = document.querySelector('.input-email');\r\nconst inputSelfEl = document.querySelector('.input-self');\r\nconst btnModifyEl = document.querySelector('.btn-modify');\r\nconst btnDeleteEl = document.querySelector('.btn-delete');\r\nconst imgEl = document.querySelector('.image');\r\nconst [hash, queryString] = location.search.split('=');\r\n\r\nbtnSubmitEl.addEventListener('click', uploadData);\r\ninputFileEl.addEventListener('change', showPreviewImg);\r\nbtnCancelEl.addEventListener('click', moveToMainPage);\r\nbtnModifyEl.addEventListener('click', removeAttribute);\r\n\r\ndocument.addEventListener('DOMContentLoaded', async () => {\r\n    try {\r\n        getDataFromFirestore();\r\n    } catch (error) {\r\n        console.error('문서를 가져오는 도중 오류가 발생했습니다', error);\r\n    }\r\n});\r\n\r\nwindow.addEventListener('keydown', (e) => {\r\n    if (e.key === 'Enter') {\r\n        uploadData();\r\n    }\r\n});\r\n\r\nformEl.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n});\r\n\r\ninputFileEl.addEventListener('click', () => {\r\n    return (imageUrl = imgEl.src);\r\n});\r\n\r\nbtnDeleteEl.addEventListener('click', () => {\r\n    deleteProfileWithImage(imgEl.src);\r\n});\r\n\r\nif (queryString) {\r\n    setAttribute();\r\n    showUtilBtns();\r\n\r\n    docRef\r\n        .get()\r\n        .then((res) => {\r\n            res.forEach((doc) => {\r\n                if (doc.data().id === Number(queryString)) {\r\n                    return (docId = doc.id);\r\n                }\r\n            });\r\n        })\r\n        .catch((error) => {\r\n            console.error('문서 불러오기 중 오류:', error);\r\n        });\r\n} else {\r\n    hideUtilBtns();\r\n}\r\n\r\nfunction showUtilBtns() {\r\n    btnModifyEl.style.display = 'block';\r\n    btnDeleteEl.style.display = 'block';\r\n}\r\n\r\nfunction hideUtilBtns() {\r\n    btnModifyEl.style.display = 'none';\r\n    btnDeleteEl.style.display = 'none';\r\n}\r\n\r\nfunction uploadData() {\r\n    const file = inputFileEl.files[0];\r\n    const storageRef = storage.ref();\r\n    const savePath = storageRef.child('image/' + new Date().getTime());\r\n    const upload = savePath.put(file);\r\n\r\n    // 사진이 변경되지 않았을 때\r\n    if (queryString && !inputFileEl.value) {\r\n        const item = {\r\n            rank: inputRankEl.value,\r\n            name: inputNameEl.value,\r\n            email: inputEmailEl.value,\r\n            self: inputSelfEl.value,\r\n        };\r\n        updateProfile(item);\r\n    }\r\n\r\n    // 사진이 변경 되었을 때\r\n    if (queryString && inputFileEl.value) {\r\n        upload.on(\r\n            'state_changed',\r\n            null,\r\n            (error) => {\r\n                console.error('실패 사유는', error);\r\n            },\r\n            () => {\r\n                upload.snapshot.ref.getDownloadURL().then((url) => {\r\n                    const item = {\r\n                        rank: inputRankEl.value,\r\n                        name: inputNameEl.value,\r\n                        photo: url,\r\n                        email: inputEmailEl.value,\r\n                        self: inputSelfEl.value,\r\n                    };\r\n                    updateProfile(item, deleteImageFromStorage(imageUrl));\r\n                });\r\n            }\r\n        );\r\n    } else {\r\n        // 새 프로필 등록\r\n        upload.on(\r\n            'state_changed',\r\n            null,\r\n            (error) => {\r\n                console.error('실패 사유는', error);\r\n            },\r\n            () => {\r\n                upload.snapshot.ref.getDownloadURL().then((url) => {\r\n                    const item = {\r\n                        id: new Date().getTime(),\r\n                        rank: inputRankEl.value,\r\n                        name: inputNameEl.value,\r\n                        photo: url,\r\n                        email: inputEmailEl.value,\r\n                        self: inputSelfEl.value,\r\n                    };\r\n                    submitProfileToFirestore(item);\r\n                });\r\n            }\r\n        );\r\n    }\r\n}\r\n\r\nfunction showPreviewImg(e) {\r\n    const file = e.target.files[0];\r\n\r\n    if (file) {\r\n        const reader = new FileReader();\r\n\r\n        reader.onload = (e) => {\r\n            imgEl.setAttribute('src', e.target.result);\r\n        };\r\n        reader.readAsDataURL(file);\r\n    }\r\n}\r\n\r\nfunction deleteImageFromStorage(imageUrl) {\r\n    const imageRef = storage.refFromURL(imageUrl);\r\n    return imageRef.delete();\r\n}\r\n\r\nfunction moveToMainPage() {\r\n    window.location.href = './index.html';\r\n}\r\n\r\nfunction removeAttribute() {\r\n    inputFileEl.removeAttribute('disabled');\r\n    inputRankEl.removeAttribute('disabled');\r\n    inputNameEl.removeAttribute('disabled');\r\n    inputEmailEl.removeAttribute('disabled');\r\n    inputSelfEl.removeAttribute('disabled');\r\n}\r\n\r\nfunction setAttribute() {\r\n    inputFileEl.setAttribute('disabled', '');\r\n    inputRankEl.setAttribute('disabled', '');\r\n    inputNameEl.setAttribute('disabled', '');\r\n    inputEmailEl.setAttribute('disabled', '');\r\n    inputSelfEl.setAttribute('disabled', '');\r\n}\r\n\r\nfunction getDataFromFirestore() {\r\n    docRef.get().then((res) => {\r\n        res.forEach((doc) => {\r\n            if (doc.data().id === Number(queryString)) {\r\n                imgEl.setAttribute('src', `${doc.data().photo}`);\r\n                inputFileEl.value = '';\r\n                inputRankEl.value = doc.data().rank;\r\n                inputNameEl.value = doc.data().name;\r\n                inputEmailEl.value = doc.data().email;\r\n                inputSelfEl.value = doc.data().self;\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nfunction updateProfile(item, deleteImage) {\r\n    btnSubmitEl.disabled = 'true';\r\n    const documentRef = docRef.doc(docId);\r\n    documentRef\r\n        .update(item)\r\n        .then(() => {\r\n            alert('프로필이 변경되었습니다!');\r\n            moveToMainPage();\r\n            deleteImage;\r\n            btnSubmitEl.disabled = 'false';\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error updating document: ', error);\r\n        });\r\n}\r\n\r\nfunction submitProfileToFirestore(item) {\r\n    docRef\r\n        .add(item)\r\n        .then(() => {\r\n            alert('프로필 등록이 완료되었습니다!');\r\n            moveToMainPage();\r\n            btnSubmitEl.disabled = 'false';\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\nasync function deleteProfileWithImage(imgUrl) {\r\n    try {\r\n        await deleteImageFromStorage(imgUrl);\r\n\r\n        const getData = await docRef.get();\r\n        const foundDoc = getData.docs.find(\r\n            (doc) => doc.data().id === Number(queryString)\r\n        );\r\n\r\n        if (foundDoc) {\r\n            await foundDoc.ref.delete();\r\n            alert('프로필 삭제가 완료되었습니다');\r\n            moveToMainPage();\r\n        } else {\r\n            console.error('문서를 찾을 수 없습니다');\r\n        }\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n","const firebaseConfig = {\r\n    apiKey: 'AIzaSyDBWZgf69JelbmqlPPPzj56W5yFL-Q5wZo',\r\n    authDomain: 'project-1-8debf.firebaseapp.com',\r\n    projectId: 'project-1-8debf',\r\n    storageBucket: 'project-1-8debf.appspot.com',\r\n    messagingSenderId: '386056815137',\r\n    appId: '1:386056815137:web:92425cb061808073ed9960',\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const db = firebase.firestore();\r\nexport const storage = firebase.storage();\r\n"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","$953205d9211b0804$export$f932f06c7eb6abeb","firestore","$953205d9211b0804$export$ddcffe0146c8f882","storage","$e4517613231d656d$var$docId","$e4517613231d656d$var$imageUrl","$e4517613231d656d$var$docRef","collection","$e4517613231d656d$var$btnSubmitEl","document","querySelector","$e4517613231d656d$var$formEl","$e4517613231d656d$var$btnCancelEl","$e4517613231d656d$var$inputFileEl","$e4517613231d656d$var$inputRankEl","$e4517613231d656d$var$inputNameEl","$e4517613231d656d$var$inputEmailEl","$e4517613231d656d$var$inputSelfEl","$e4517613231d656d$var$btnModifyEl","$e4517613231d656d$var$btnDeleteEl","$e4517613231d656d$var$imgEl","$e4517613231d656d$var$hash","$e4517613231d656d$var$queryString","location","search","split","$e4517613231d656d$var$uploadData","file","files","storageRef","ref","savePath","child","Date","getTime","upload","put","value","item","rank","name","email","self","$e4517613231d656d$var$updateProfile","on","error","console","snapshot","getDownloadURL","then","url","photo","$e4517613231d656d$var$deleteImageFromStorage","id","$e4517613231d656d$var$submitProfileToFirestore","add","alert","$e4517613231d656d$var$moveToMainPage","disabled","catch","log","imageUrl","imageRef","refFromURL","delete","window","href","deleteImage","documentRef","doc","update","$e4517613231d656d$var$deleteProfileWithImage","imgUrl","getData","get","foundDoc","docs","find","data","Number","addEventListener","e","target","reader","FileReader","onload","setAttribute","result","readAsDataURL","removeAttribute","res","forEach","key","preventDefault","src","style","display"],"version":3,"file":"upload.1edac15e.js.map"}